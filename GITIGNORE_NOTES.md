# .gitignore Explanation

This document explains what files are excluded from version control and why they shouldn't be deployed to VPS.

## Files Excluded from Git

### 1. Dependencies
- `node_modules/` - NPM packages (installed on VPS)
- `vendor/` - Go dependencies (installed on VPS)

**Why**: These are large and can be regenerated. Install on VPS via `npm install` or `go mod download`.

### 2. Build Artifacts
- `frontend/dist/` - Built React/Vite files (generated during build)
- `backend/bin/` - Compiled Go binaries
- `*.exe` - Windows executables
- `backend/api`, `backend/worker` - Compiled binaries

**Why**: These are generated during build process on VPS. Don't commit compiled code.

### 3. Environment Files (Secrets)
- `.env*` - All environment files
- `backend/config/prod.env` - Production secrets (database passwords, etc.)
- `frontend/.env.local` - Local development config

**Why**: Contains sensitive information like passwords, API keys. Must be created on VPS with actual values.

### 4. SSL Certificates
- `traefik/acme/acme.json` - Let's Encrypt certificates

**Why**: Auto-generated by Traefik on VPS. Contains private keys.

### 5. Persistent Data
- `volumes/db/` - PostgreSQL database files
- `volumes/redis/` - Redis data
- `volumes/logs/` - Application logs
- `apps/*/` - User-deployed applications

**Why**: Runtime data that grows over time. Should be backed up separately, not in git.

### 6. Old/Obsolete Files
- `frontend/app/` - Old Next.js pages (migrated to React)
- `frontend/components/` - Old components (now in src/)
- `frontend/lib/` - Old lib files (now in src/)
- `frontend/nginx.conf` - Removed (using Traefik)
- `frontend/DEPLOYMENT.md` - Outdated deployment docs
- `frontend/MIGRATION_NOTES.md` - Migration notes (not needed on VPS)
- `frontend/deploy.sh` - Old deployment script

**Why**: These are from the old Next.js setup. Not needed after migration to React/Vite.

### 7. IDE and OS Files
- `.idea/`, `.vscode/` - IDE settings
- `.DS_Store`, `Thumbs.db` - OS files

**Why**: Developer-specific files, not needed on VPS.

### 8. Logs and Temporary Files
- `*.log` - Log files
- `tmp/`, `temp/` - Temporary files
- `.cache/` - Build cache

**Why**: Generated at runtime, can be large, not needed in version control.

## Files That SHOULD Be in Git

These files are tracked and deployed to VPS:

- Source code (`src/`, `cmd/`, `internal/`)
- Configuration templates (`*.example` files)
- Dockerfiles
- `docker-compose.yml`
- Traefik configuration files
- Documentation (README.md, etc.)
- Package files (`package.json`, `go.mod`)

## Empty Directories

Empty directories that need to exist on VPS have `.gitkeep` files:
- `traefik/acme/.gitkeep`
- `volumes/db/.gitkeep`
- `volumes/redis/.gitkeep`
- `volumes/logs/.gitkeep`
- `apps/.gitkeep`

## VPS Deployment Checklist

When deploying to VPS, ensure these are created/configured:

1. **Environment Files:**
   ```bash
   cp backend/config/prod.env.example backend/config/prod.env
   # Edit with actual values
   ```

2. **SSL Certificates:**
   ```bash
   mkdir -p traefik/acme
   touch traefik/acme/acme.json
   chmod 600 traefik/acme/acme.json
   ```

3. **Volumes:**
   ```bash
   mkdir -p volumes/{db,redis,logs}
   ```

4. **Dependencies:**
   ```bash
   # Frontend (if building locally)
   cd frontend && npm install
   
   # Backend (if building locally)
   cd backend && go mod download
   ```

5. **Build:**
   ```bash
   # Or let Docker build
   docker compose build
   ```

## Security Notes

- Never commit `.env` files with real secrets
- Never commit SSL certificates
- Use `.env.example` files as templates
- Rotate secrets regularly
- Use environment variables or secrets management in production

